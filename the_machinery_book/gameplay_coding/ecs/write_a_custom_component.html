<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Write a custom component - The Machinery Book</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../../favicon.svg">
                        <link rel="shortcut icon" href="../../favicon.png">
                <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
                <link rel="stylesheet" href="../../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../index.html"><strong aria-hidden="true">1.</strong> Welcome</a></li><li class="chapter-item expanded "><a href="../../what_is_the_machinery.html"><strong aria-hidden="true">2.</strong> What is The Machinery</a></li><li class="chapter-item expanded "><a href="../../licenses.html"><strong aria-hidden="true">3.</strong> Licenses</a></li><li class="chapter-item expanded "><a href="../../getting_started/index.html"><strong aria-hidden="true">4.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../getting_started/what_is_in_the_package.html"><strong aria-hidden="true">4.1.</strong> What is in this package</a></li><li class="chapter-item expanded "><a href="../../getting_started/logging_in.html"><strong aria-hidden="true">4.2.</strong> Sign In</a></li><li class="chapter-item expanded "><a href="../../getting_started/new_project.html"><strong aria-hidden="true">4.3.</strong> New Project</a></li><li class="chapter-item expanded "><a href="../../getting_started/first_gameplay_project.html"><strong aria-hidden="true">4.4.</strong> First Gameplay Project</a></li><li class="chapter-item expanded "><a href="../../getting_started/sample-projects.html"><strong aria-hidden="true">4.5.</strong> Sample Projects</a></li><li class="chapter-item expanded "><a href="../../getting_started/troubleshooting.html"><strong aria-hidden="true">4.6.</strong> Troubleshooting</a></li><li class="chapter-item expanded "><a href="../../getting_started/migration_from_unity.html"><strong aria-hidden="true">4.7.</strong> The Machinery for Unity Dev's</a></li><li class="chapter-item expanded "><a href="../../getting_started/migration_from_unreal.html"><strong aria-hidden="true">4.8.</strong> The Machinery for Unreal 4 Dev's</a></li></ol></li><li class="chapter-item expanded "><a href="../../the_editor/index.html"><strong aria-hidden="true">5.</strong> The Editor</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../the_editor/tabs.html"><strong aria-hidden="true">5.1.</strong> About Tabs</a></li><li class="chapter-item expanded "><a href="../../the_editor/entity_tree_tab.html"><strong aria-hidden="true">5.2.</strong> Entity Tree Tab</a></li><li class="chapter-item expanded "><a href="../../the_editor/scene_tab.html"><strong aria-hidden="true">5.3.</strong> Scene Tab</a></li><li class="chapter-item expanded "><a href="../../the_editor/properties_tab.html"><strong aria-hidden="true">5.4.</strong> Properties Tab</a></li><li class="chapter-item expanded "><a href="../../the_editor/asset_browser.html"><strong aria-hidden="true">5.5.</strong> Asset Browser</a></li><li class="chapter-item expanded "><a href="../../the_editor/simulate_tab.html"><strong aria-hidden="true">5.6.</strong> Simulate Tab</a></li><li class="chapter-item expanded "><a href="../../the_editor/preview_tab.html"><strong aria-hidden="true">5.7.</strong> Preview Tab</a></li></ol></li><li class="chapter-item expanded "><a href="../../editing_workflows/index.html"><strong aria-hidden="true">6.</strong> Editing Workflows</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../editing_workflows/entities.html"><strong aria-hidden="true">6.1.</strong> Entities</a></li><li class="chapter-item expanded "><a href="../../editing_workflows/creation_graphs_asset_pipeline.html"><strong aria-hidden="true">6.2.</strong> Creation graphs and asset pipeline</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../editing_workflows/import_assets.html"><strong aria-hidden="true">6.2.1.</strong> Import Assets</a></li><li class="chapter-item expanded "><a href="../../editing_workflows/import_projects.html"><strong aria-hidden="true">6.2.2.</strong> Import Projects</a></li></ol></li><li class="chapter-item expanded "><a href="../../editing_workflows/prototypes.html"><strong aria-hidden="true">6.3.</strong> Prototypes</a></li><li class="chapter-item expanded "><a href="../../editing_workflows/simulation.html"><strong aria-hidden="true">6.4.</strong> Simulation</a></li><li class="chapter-item expanded "><a href="../../editing_workflows/visual-scripting.html"><strong aria-hidden="true">6.5.</strong> Visual Scripting: Entity Graphs</a></li><li class="chapter-item expanded "><a href="../../editing_workflows/physics.html"><strong aria-hidden="true">6.6.</strong> Physics</a></li><li class="chapter-item expanded "><a href="../../editing_workflows/animation/index.html"><strong aria-hidden="true">6.7.</strong> Animation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../editing_workflows/animation/animation-state-machine.html"><strong aria-hidden="true">6.7.1.</strong> Animation State Machines</a></li><li class="chapter-item expanded "><a href="../../editing_workflows/animation/animation-compression.html"><strong aria-hidden="true">6.7.2.</strong> Animation Compression</a></li></ol></li><li class="chapter-item expanded "><a href="../../editing_workflows/sound.html"><strong aria-hidden="true">6.8.</strong> Sound</a></li><li class="chapter-item expanded "><a href="../../editing_workflows/publish.html"><strong aria-hidden="true">6.9.</strong> Publish</a></li><li class="chapter-item expanded "><a href="../../editing_workflows/sculpting.html"><strong aria-hidden="true">6.10.</strong> Sculpt Tool / White boxing</a></li></ol></li><li class="chapter-item expanded "><a href="../../the_truth/index.html"><strong aria-hidden="true">7.</strong> The Truth</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../the_truth/access_values.html"><strong aria-hidden="true">7.1.</strong> Access values</a></li><li class="chapter-item expanded "><a href="../../the_truth/create_an_object.html"><strong aria-hidden="true">7.2.</strong> Create an object</a></li><li class="chapter-item expanded "><a href="../../the_truth/modify_an_object.html"><strong aria-hidden="true">7.3.</strong> Modify an object</a></li><li class="chapter-item expanded "><a href="../../the_truth/common_types.html"><strong aria-hidden="true">7.4.</strong> Common Types</a></li><li class="chapter-item expanded "><a href="../../the_truth/aspects.html"><strong aria-hidden="true">7.5.</strong> Aspects</a></li><li class="chapter-item expanded "><a href="../../the_truth/custom_truth_type.html"><strong aria-hidden="true">7.6.</strong> Create a Truth Type</a></li></ol></li><li class="chapter-item expanded "><a href="../../creation_graphs/concept.html"><strong aria-hidden="true">8.</strong> Creation Graphs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../creation_graphs/intro_unity.html"><strong aria-hidden="true">8.1.</strong> Creation Graphs for Untiy Dev's</a></li><li class="chapter-item expanded "><a href="../../creation_graphs/intro_unreal.html"><strong aria-hidden="true">8.2.</strong> Creation Graphs for Unreal 4 Dev's</a></li><li class="chapter-item expanded "><a href="../../creation_graphs/node_types.html"><strong aria-hidden="true">8.3.</strong> Node Types</a></li><li class="chapter-item expanded "><a href="../../creation_graphs/shader_system.html"><strong aria-hidden="true">8.4.</strong> Shader System Interaction</a></li></ol></li><li class="chapter-item expanded "><a href="../../extending_the_machinery/index.html"><strong aria-hidden="true">9.</strong> Extending The Machinery</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../extending_the_machinery/the_plugin_system.html"><strong aria-hidden="true">9.1.</strong> The Plugin System</a></li><li class="chapter-item expanded "><a href="../../extending_the_machinery/hot-reloading.html"><strong aria-hidden="true">9.2.</strong> Hot-reloading</a></li><li class="chapter-item expanded "><a href="../../extending_the_machinery/write-a-plugin.html"><strong aria-hidden="true">9.3.</strong> Write a plugin</a></li><li class="chapter-item expanded "><a href="../../extending_the_machinery/write-a-tab.html"><strong aria-hidden="true">9.4.</strong> Write a tab</a></li><li class="chapter-item expanded "><a href="../../extending_the_machinery/plugin-assets.html"><strong aria-hidden="true">9.5.</strong> Plugin assets</a></li></ol></li><li class="chapter-item expanded "><a href="../../gameplay_coding/index.html"><strong aria-hidden="true">10.</strong> Gameplay coding</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../gameplay_coding/simulate_entry.html"><strong aria-hidden="true">10.1.</strong> Simulate Entry in C</a></li><li class="chapter-item expanded "><a href="../../gameplay_coding/extend_the_visual_scripting_language.html"><strong aria-hidden="true">10.2.</strong> Extending the visual scripting language</a></li><li class="chapter-item expanded "><a href="../../gameplay_coding/ecs/index.html"><strong aria-hidden="true">10.3.</strong> Entity Component System</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../gameplay_coding/ecs/write_a_custom_component.html" class="active"><strong aria-hidden="true">10.3.1.</strong> Write a custom component</a></li><li class="chapter-item expanded "><a href="../../gameplay_coding/ecs/write_a_system_or_engine.html"><strong aria-hidden="true">10.3.2.</strong> Write a Systems &amp; Engines</a></li><li class="chapter-item expanded "><a href="../../gameplay_coding/ecs/how_entites_can_interact.html"><strong aria-hidden="true">10.3.3.</strong> How can Entities Interact?</a></li></ol></li><li class="chapter-item expanded "><a href="../../helper_tools/tmbuild.html"><strong aria-hidden="true">10.4.</strong> How to build my plugin</a></li></ol></li><li class="chapter-item expanded "><a href="../../collaboration.html"><strong aria-hidden="true">11.</strong> Collaboration</a></li><li class="chapter-item expanded "><a href="../../qa_pipeline/index.html"><strong aria-hidden="true">12.</strong> QA Pipeline</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../qa_pipeline/logging.html"><strong aria-hidden="true">12.1.</strong> Logging</a></li><li class="chapter-item expanded "><a href="../../qa_pipeline/how_to_write_unit_tests.html"><strong aria-hidden="true">12.2.</strong> Write your own unit tests</a></li><li class="chapter-item expanded "><a href="../../qa_pipeline/how_to_write_integration_tests.html"><strong aria-hidden="true">12.3.</strong> Write your own integration tests</a></li></ol></li><li class="chapter-item expanded "><a href="../../helper_tools/index.html"><strong aria-hidden="true">13.</strong> Helper Tools</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../helper_tools/tmbuild.html"><strong aria-hidden="true">13.1.</strong> How to use tmbuild</a></li><li class="chapter-item expanded "><a href="../../helper_tools/hash.html"><strong aria-hidden="true">13.2.</strong> How to use hash</a></li><li class="chapter-item expanded "><a href="../../helper_tools/tmbuild_package_reference.html"><strong aria-hidden="true">13.3.</strong> tmbuild package reference</a></li></ol></li><li class="chapter-item expanded "><a href="../../writing_an_executable.html"><strong aria-hidden="true">14.</strong> Writing an executable</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">The Machinery Book</h1>

                    <div class="right-buttons">
                                                <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        <a href="https://github.com/OurMachinery/themachinery-books" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                                                
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="write-a-custom-component"><a class="header" href="#write-a-custom-component">Write a custom component</a></h1>
<p>This walkthrough shows you how to add a custom component to the Engine. During this walkthrough, we will cover the following topics:</p>
<ul>
<li>How to create a component from scratch.</li>
<li>Where and how do we register a component.</li>
</ul>
<p>You should have basic knowledge about how to write a custom plugin. If not, you might want to check this <a href="https://ourmachinery.github.io/themachinery-books/the_machinery_book/extending_the_machinery/the_plugin_system.html">Guide</a> and the <a href="https://ourmachinery.github.io/themachinery-books/the_machinery_book/extending_the_machinery/write-a-plugin.html#build-requirements">Write a plugin guide</a>. The goal of this walkthrough is to dissect the component plugin provided by the Engine.</p>
<p><strong>Table of Content</strong></p>
<ul>
<li><a href="#where-do-we-start">Where do we start?</a></li>
<li><a href="#code-structure">Code structure</a>
<ul>
<li><a href="#api-and-include-region">API and include region</a></li>
<li><a href="#define-your-data">Define your Data</a></li>
<li><a href="#add-your-component-to-the-truth">Add your component to the Truth</a></li>
<li><a href="#define-your-component">Define your component</a></li>
<li><a href="#define-your-engine-update">Define your engine update</a></li>
<li><a href="#register-your-engine-to-the-system">Register your Engine to the system</a></li>
<li><a href="#the-plugin-load-function">The plugin load function</a></li>
</ul>
</li>
</ul>
<h2 id="where-do-we-start"><a class="header" href="#where-do-we-start">Where do we start?</a></h2>
<p>In this example, we want to create a new plugin, which contains our component. We open the Engine go to <strong>file -&gt; New Plugin -&gt; Entity Component.</strong> The file dialog will pop up and ask us where we want to save our file. Pick a location that suits you.</p>
<blockquote>
<p><strong>Tip:</strong> Maybe store your plugin in a folder next to your game project.</p>
</blockquote>
<p>After this, we see that the Engine created some files for us. Now we need to ensure that we can build our project. In the root folder (The folder with the <code>premake</code> file), we run <code>tmbuild,</code> and if there is no issue, we see that it will build our projects once and generate the <code>.sln</code> file (on windows). If there is an issue, we should ensure we have set up the Environment variables correctly and installed all the needed dependencies. For more information, please read this <a href="https://ourmachinery.github.io/themachinery-books/the_machinery_book/helper_tools/tmbuild.html">guide</a>.</p>
<p>Now we can open the <code>.c</code> file with our favourite IDE. The file will contain the following content:</p>
<pre><code class="language-c">static struct tm_entity_api* tm_entity_api;
static struct tm_transform_component_api* tm_transform_component_api;
static struct tm_temp_allocator_api* tm_temp_allocator_api;
static struct tm_the_truth_api* tm_the_truth_api;
static struct tm_localizer_api* tm_localizer_api;

#include &lt;plugins/entity/entity.h&gt;
#include &lt;plugins/entity/transform_component.h&gt;
#include &lt;plugins/the_machinery_shared/component_interfaces/editor_ui_interface.h&gt;

#include &lt;foundation/api_registry.h&gt;
#include &lt;foundation/carray.inl&gt;
#include &lt;foundation/localizer.h&gt;
#include &lt;foundation/math.inl&gt;
#include &lt;foundation/the_truth.h&gt;

#define TM_TT_TYPE__CUSTOM_COMPONENT &quot;tm_custom_component&quot;
#define TM_TT_TYPE_HASH__CUSTOM_COMPONENT TM_STATIC_HASH(&quot;tm_custom_component&quot;, 0x355309758b21930cULL)

enum {
    TM_TT_PROP__CUSTOM_COMPONENT__FREQUENCY, // float
    TM_TT_PROP__CUSTOM_COMPONENT__AMPLITUDE, // float
};

struct tm_custom_component_t {
    float y0;
    float frequency;
    float amplitude;
};

static const char* component__category(void)
{
    return TM_LOCALIZE(&quot;Samples&quot;);
}

static tm_ci_editor_ui_i* editor_aspect = &amp;(tm_ci_editor_ui_i){
    .category = component__category
};

static void truth__create_types(struct tm_the_truth_o* tt)
{
    tm_the_truth_property_definition_t custom_component_properties[] = {
        [TM_TT_PROP__CUSTOM_COMPONENT__FREQUENCY] = { &quot;frequency&quot;, TM_THE_TRUTH_PROPERTY_TYPE_FLOAT },
        [TM_TT_PROP__CUSTOM_COMPONENT__AMPLITUDE] = { &quot;amplitude&quot;, TM_THE_TRUTH_PROPERTY_TYPE_FLOAT },
    };

    const tm_tt_type_t custom_component_type = tm_the_truth_api-&gt;create_object_type(tt, TM_TT_TYPE__CUSTOM_COMPONENT, custom_component_properties, TM_ARRAY_COUNT(custom_component_properties));
    const tm_tt_id_t default_object = tm_the_truth_api-&gt;quick_create_object(tt, TM_TT_NO_UNDO_SCOPE, TM_TT_TYPE_HASH__CUSTOM_COMPONENT, TM_TT_PROP__CUSTOM_COMPONENT__FREQUENCY, 1.0f, TM_TT_PROP__CUSTOM_COMPONENT__AMPLITUDE, 1.0f, -1);
    tm_the_truth_api-&gt;set_default_object(tt, custom_component_type, default_object);

    tm_the_truth_api-&gt;set_aspect(tt, custom_component_type, TM_CI_EDITOR_UI, editor_aspect);
}

static bool component__load_asset(tm_component_manager_o* man, tm_entity_t e, void* c_vp, const tm_the_truth_o* tt, tm_tt_id_t asset)
{
    struct tm_custom_component_t* c = c_vp;
    const tm_the_truth_object_o* asset_r = tm_tt_read(tt, asset);
    c-&gt;y0 = 0;
    c-&gt;frequency = tm_the_truth_api-&gt;get_float(tt, asset_r, TM_TT_PROP__CUSTOM_COMPONENT__FREQUENCY);
    c-&gt;amplitude = tm_the_truth_api-&gt;get_float(tt, asset_r, TM_TT_PROP__CUSTOM_COMPONENT__AMPLITUDE);
    return true;
}

static void component__create(struct tm_entity_context_o* ctx)
{
    tm_component_i component = {
        .name = TM_TT_TYPE__CUSTOM_COMPONENT,
        .bytes = sizeof(struct tm_custom_component_t),
        .load_asset = component__load_asset,
    };

    tm_entity_api-&gt;register_component(ctx, &amp;component);
}

// Runs on (custom_component, transform_component)
static void engine_update__custom_component(tm_engine_o* inst, tm_engine_update_set_t* data)
{
    TM_INIT_TEMP_ALLOCATOR(ta);

    tm_entity_t* mod_transform = 0;

    struct tm_entity_context_o* ctx = (struct tm_entity_context_o*)inst;

    double t = 0;
    for (const tm_entity_blackboard_value_t* bb = data-&gt;blackboard_start; bb != data-&gt;blackboard_end; ++bb) {
        if (TM_STRHASH_EQUAL(bb-&gt;id, TM_ENTITY_BB__TIME))
            t = bb-&gt;double_value;
    }

    for (tm_engine_update_array_t* a = data-&gt;arrays; a &lt; data-&gt;arrays + data-&gt;num_arrays; ++a) {
        struct tm_custom_component_t* custom_component = a-&gt;components[0];
        tm_transform_component_t* transform = a-&gt;components[1];

        for (uint32_t i = 0; i &lt; a-&gt;n; ++i) {
            if (!custom_component[i].y0)
                custom_component[i].y0 = transform[i].world.pos.y;
            const float y = custom_component[i].y0 + custom_component[i].amplitude * sinf((float)t * custom_component[i].frequency);

            transform[i].world.pos.y = y;
            ++transform[i].version;
            tm_carray_temp_push(mod_transform, a-&gt;entities[i], ta);
        }
    }

    tm_entity_api-&gt;notify(ctx, data-&gt;engine-&gt;components[1], mod_transform, (uint32_t)tm_carray_size(mod_transform));

    TM_SHUTDOWN_TEMP_ALLOCATOR(ta);
}

static bool engine_filter__custom_component(tm_engine_o* inst, const tm_component_type_t* components, uint32_t num_components, const tm_component_mask_t* mask)
{
    return tm_entity_mask_has_component(mask, components[0]) &amp;&amp; tm_entity_mask_has_component(mask, components[1]);
}

static void component__register_engine(struct tm_entity_context_o* ctx)
{
    const tm_component_type_t custom_component = tm_entity_api-&gt;lookup_component_type(ctx, TM_TT_TYPE_HASH__CUSTOM_COMPONENT);
    const tm_component_type_t transform_component = tm_entity_api-&gt;lookup_component_type(ctx, TM_TT_TYPE_HASH__TRANSFORM_COMPONENT);

    const tm_engine_i custom_component_engine = {
        .ui_name = &quot;Custom Component&quot;,
        .hash  = TM_STATIC_HASH(&quot;CUSTOM_COMPONENT&quot;, 0xe093a8316a6c2d29ULL),
        .num_components = 2,
        .components = { custom_component, transform_component },
        .writes = { false, true },
        .update = engine_update__custom_component,
        .filter = engine_filter__custom_component,
        .inst = (tm_engine_o*)ctx,
    };
    tm_entity_api-&gt;register_engine(ctx, &amp;custom_component_engine);
}

TM_DLL_EXPORT void tm_load_plugin(struct tm_api_registry_api* reg, bool load)
{
    tm_entity_api = reg-&gt;get(TM_ENTITY_API_NAME);
    tm_transform_component_api = reg-&gt;get(TM_TRANSFORM_COMPONENT_API_NAME);
    tm_the_truth_api = reg-&gt;get(TM_THE_TRUTH_API_NAME);
    tm_temp_allocator_api = reg-&gt;get(TM_TEMP_ALLOCATOR_API_NAME);
    tm_localizer_api = reg-&gt;get(TM_LOCALIZER_API_NAME);

    tm_add_or_remove_implementation(reg, load, TM_THE_TRUTH_CREATE_TYPES_INTERFACE_NAME, truth__create_types);
    tm_add_or_remove_implementation(reg, load, TM_ENTITY_CREATE_COMPONENT_INTERFACE_NAME, component__create);
    tm_add_or_remove_implementation(reg, load, TM_ENTITY_SIMULATION_REGISTER_ENGINES_INTERFACE_NAME, component__register_engine);
}

</code></pre>
<h2 id="code-structure"><a class="header" href="#code-structure">Code structure</a></h2>
<p>Let us dissect the code structure and discuss all the points of interest.</p>
<h3 id="api-and-include-region"><a class="header" href="#api-and-include-region">API and include region</a></h3>
<p>The file begins with all includes and API definitions: </p>
<pre><code class="language-c">static struct tm_entity_api* tm_entity_api;
static struct tm_transform_component_api* tm_transform_component_api;
static struct tm_temp_allocator_api* tm_temp_allocator_api;
static struct tm_the_truth_api* tm_the_truth_api;
static struct tm_localizer_api* tm_localizer_api;

#include &lt;plugins/entity/entity.h&gt;
#include &lt;plugins/entity/transform_component.h&gt;
#include &lt;plugins/the_machinery_shared/component_interfaces/editor_ui_interface.h&gt;

#include &lt;foundation/api_registry.h&gt;
#include &lt;foundation/carray.inl&gt;
#include &lt;foundation/localizer.h&gt;
#include &lt;foundation/math.inl&gt;
#include &lt;foundation/the_truth.h&gt;
</code></pre>
<p>The code will fill the API definitions with life in the <code>tm_load_plugin</code> function.</p>
<h3 id="define-your-data"><a class="header" href="#define-your-data">Define your Data</a></h3>
<p>The next part contains the Truth Definition of the component and the plain old data struct (POD). <em>In production, we should separate those aspects into a header file!</em></p>
<blockquote>
<p>Note: All components should be plain old datatypes.</p>
</blockquote>
<pre><code class="language-c">#define TM_TT_TYPE__CUSTOM_COMPONENT &quot;tm_custom_component&quot;
#define TM_TT_TYPE_HASH__CUSTOM_COMPONENT TM_STATIC_HASH(&quot;tm_custom_component&quot;, 0x355309758b21930cULL)

enum {
    TM_TT_PROP__CUSTOM_COMPONENT__FREQUENCY, // float
    TM_TT_PROP__CUSTOM_COMPONENT__AMPLITUDE, // float
};

struct tm_custom_component_t {
    float y0;
    float frequency;
    float amplitude;
};
</code></pre>
<h3 id="add-your-component-to-the-truth"><a class="header" href="#add-your-component-to-the-truth">Add your component to the Truth</a></h3>
<p>After this, we have the region in which we define the category of our component. The Editor will call it to categorize the component into the correct section. </p>
<p>We need to define a <a href="https://ourmachinery.com/apidoc/plugins/the_machinery_shared/component_interfaces/editor_ui_interface.h.html#structtm_ci_editor_ui_i">tm_ci_editor_ui_i</a> object which uses this function.  Later we register this function to the <a href="https://ourmachinery.com/apidoc/plugins/the_machinery_shared/component_interfaces/editor_ui_interface.h.html#tm_ci_editor_ui">TM_CI_EDITOR_UI</a> aspect of our truth type. If you do not add this aspect later to your Truth Type, the Editor will not know that this Component Type exists, and you can not add it via the Editor, but in C.</p>
<blockquote>
<p><strong>Note:</strong> More about aspects you can read in the <a href="#">aspects guide</a>.</p>
</blockquote>
<pre><code class="language-c">static const char* component__category(void)
{
    return TM_LOCALIZE(&quot;Samples&quot;);
}

static tm_ci_editor_ui_i* editor_aspect = &amp;(tm_ci_editor_ui_i){
    .category = component__category
};
</code></pre>
<p>In this region, we create our component truth type. It is important to remember that the Truth will not reflect the runtime data, just the data you can edit in the Editor. On the other hand, the Entity Context will store your runtime data, the plain old data struct you have defined above. More about how this works later in this section.</p>
<p>Let us take this code apart one more time:</p>
<pre><code class="language-c">static void truth__create_types(struct tm_the_truth_o* tt)
{
    tm_the_truth_property_definition_t custom_component_properties[] = {
        [TM_TT_PROP__CUSTOM_COMPONENT__FREQUENCY] = { &quot;frequency&quot;, TM_THE_TRUTH_PROPERTY_TYPE_FLOAT },
        [TM_TT_PROP__CUSTOM_COMPONENT__AMPLITUDE] = { &quot;amplitude&quot;, TM_THE_TRUTH_PROPERTY_TYPE_FLOAT },
    };

    const tm_tt_type_t custom_component_type = tm_the_truth_api-&gt;create_object_type(tt, TM_TT_TYPE__CUSTOM_COMPONENT, custom_component_properties, TM_ARRAY_COUNT(custom_component_properties));
    const tm_tt_id_t default_object = tm_the_truth_api-&gt;quick_create_object(tt, TM_TT_NO_UNDO_SCOPE, TM_TT_TYPE_HASH__CUSTOM_COMPONENT, TM_TT_PROP__CUSTOM_COMPONENT__FREQUENCY, 1.0f, TM_TT_PROP__CUSTOM_COMPONENT__AMPLITUDE, 1.0f, -1);
    tm_the_truth_api-&gt;set_default_object(tt, custom_component_type, default_object);

    tm_the_truth_api-&gt;set_aspect(tt, custom_component_type, TM_CI_EDITOR_UI, editor_aspect);
}
</code></pre>
<ol>
<li>We define the component's properties.</li>
<li>We create the actual type in the Truth.</li>
<li>We create an object of our type with <code>quick_create_object</code> and provide a default object to our component. It makes sure that when you add the component to an Entity, you have the expected default values. It is not needed, just a nice thing to have.</li>
<li>Add our <a href="https://ourmachinery.com/apidoc/plugins/the_machinery_shared/component_interfaces/editor_ui_interface.h.html#tm_ci_editor_ui">TM_CI_EDITOR_UI</a> aspect to the type. It tells the Editor that you can add the component via the Editor. If you do not provide it, the Editor will not suggest this component to you and cannot store it in the Truth. It does not mean you cannot add this component via C.</li>
</ol>
<h3 id="define-your-component"><a class="header" href="#define-your-component">Define your component</a></h3>
<p>You an register a component to the <a href="https://ourmachinery.com/apidoc/plugins/entity/entity.h.html#tm_entity_create_component_interface_name">TM_ENTITY_CREATE_COMPONENT_INTERFACE_NAME</a> in your plugin load function. This interface expects a function pointer to a create component function of the signature: <code>void tm_entity_create_component_i(struct tm_entity_context_o *ctx)</code>.</p>
<p>The Engine will call this function whenever it creates a new Entity Context to populate the context with all the known components. It usually happens at the beginning of the Simulation.</p>
<p>Within this function, you can define your component and register it to the context. The <a href="https://ourmachinery.com/apidoc/plugins/entity/entity.h.html#structtm_entity_api">tm_entity_api</a> provides a function <code>tm_entity_api.register_component()</code> which expects the current context and a instance of the <a href="https://ourmachinery.com/apidoc/plugins/entity/entity.h.html#structtm_component_i">tm_component_i</a>. We define one in our function and give it the needed information:</p>
<ul>
<li>A name should be the same as the Truth Type</li>
<li>The size of the component struct</li>
<li>A load asset function</li>
</ul>
<pre><code class="language-c">static void component__create(struct tm_entity_context_o* ctx)
{
    tm_component_i component = {
        .name = TM_TT_TYPE__CUSTOM_COMPONENT,
        .bytes = sizeof(struct tm_custom_component_t),
        .load_asset = component__load_asset,
    };

    tm_entity_api-&gt;register_component(ctx, &amp;component);
}
</code></pre>
<p>As mentioned before, the Truth does not reflect the runtime data and only holds the data you can edit in the Editor. This is why there needs to be some translation between The Truth and the ECS. This magic is happening in the <code>tm_component_i.load_asset()</code>. This function allows you to translate a <a href="https://ourmachinery.com/apidoc/foundation/api_types.h.html#structtm_tt_id_t">tm_tt_id_t</a> asset to the plain old data of the component.</p>
<pre><code class="language-c">static bool component__load_asset(tm_component_manager_o* man, tm_entity_t e, void* c_vp, const tm_the_truth_o* tt, tm_tt_id_t asset)
{
    struct tm_custom_component_t* c = c_vp;
    const tm_the_truth_object_o* asset_r = tm_tt_read(tt, asset);
    c-&gt;y0 = 0;
    c-&gt;frequency = tm_the_truth_api-&gt;get_float(tt, asset_r, TM_TT_PROP__CUSTOM_COMPONENT__FREQUENCY);
    c-&gt;amplitude = tm_the_truth_api-&gt;get_float(tt, asset_r, TM_TT_PROP__CUSTOM_COMPONENT__AMPLITUDE);
    return true;
}
</code></pre>
<p>The first step is that we cast the given <code>void*</code> of the component data <code>c_vp</code> to the correct data type. After that, we load the data from the Truth and store it in the component. In the end, we return true because no error occurred.</p>
<h3 id="define-your-engine-update"><a class="header" href="#define-your-engine-update">Define your engine update</a></h3>
<p><em>In the Machinery, gameplay code is mainly driven by Systems and Engines. They define the behaviour while the components the data describes.</em> </p>
<blockquote>
<p><strong>Note:</strong> in some entity systems, these are referred to as <em>systems</em> instead, but we choose <em>Engine</em> because it is less ambiguous.</p>
</blockquote>
<p>This next section of the code is about defining an Engine.</p>
<pre><code class="language-c">// Runs on (custom_component, transform_component)
static void engine_update__custom_component(tm_engine_o* inst, tm_engine_update_set_t* data)
{
    TM_INIT_TEMP_ALLOCATOR(ta);

    tm_entity_t* mod_transform = 0;

    struct tm_entity_context_o* ctx = (struct tm_entity_context_o*)inst;

    double t = 0;
    for (const tm_entity_blackboard_value_t* bb = data-&gt;blackboard_start; bb != data-&gt;blackboard_end; ++bb) {
        if (TM_STRHASH_EQUAL(bb-&gt;id, TM_ENTITY_BB__TIME))
            t = bb-&gt;double_value;
    }

    for (tm_engine_update_array_t* a = data-&gt;arrays; a &lt; data-&gt;arrays + data-&gt;num_arrays; ++a) {
        struct tm_custom_component_t* custom_component = a-&gt;components[0];
        tm_transform_component_t* transform = a-&gt;components[1];

        for (uint32_t i = 0; i &lt; a-&gt;n; ++i) {
            if (!custom_component[i].y0)
                custom_component[i].y0 = transform[i].world.pos.y;
            const float y = custom_component[i].y0 + custom_component[i].amplitude * sinf((float)t * custom_component[i].frequency);

            transform[i].world.pos.y = y;
            ++transform[i].version;
            tm_carray_temp_push(mod_transform, a-&gt;entities[i], ta);
        }
    }

    tm_entity_api-&gt;notify(ctx, data-&gt;engine-&gt;components[1], mod_transform, (uint32_t)tm_carray_size(mod_transform));

    TM_SHUTDOWN_TEMP_ALLOCATOR(ta);
}
</code></pre>
<p>The first thing we do is use a temp allocator for any future allocation that will not leave this function. After that, we cast the <code>tm_engine_o* inst</code> to the <code>tm_entity_context_o*</code> so we have access to the entity context later on.</p>
<p>The next step is to get the time from the Blackboard Values. </p>
<pre><code class="language-c">
double t = 0;
for (const tm_entity_blackboard_value_t* bb = data-&gt;blackboard_start; bb != data-&gt;blackboard_end; ++bb) {
        if (TM_STRHASH_EQUAL(bb-&gt;id, TM_ENTITY_BB__TIME))
            t = bb-&gt;double_value;
    }
</code></pre>
<p>The Engine provides a bunch of useful Blackboard values. They are defined in the <code>plugins/entity/entity.h</code>.</p>
<ul>
<li><a href="https://ourmachinery.com/apidoc/plugins/entity/entity.h.html#tm_entity_bb__simulation_speed">TM_ENTITY_BB__SIMULATION_SPEED</a> - Speed that the simulation is running at. Defaults to 1.0 for normal speed.</li>
<li><a href="https://ourmachinery.com/apidoc/plugins/entity/entity.h.html#tm_entity_bb__delta_time">TM_ENTITY_BB__DELTA_TIME</a> - Blackboard item representing the simulation delta time of the current frame.</li>
<li><a href="https://ourmachinery.com/apidoc/plugins/entity/entity.h.html#tm_entity_bb__time">TM_ENTITY_BB__TIME</a> - Blackboard item representing the total elapsed time in the Simulation.</li>
<li><a href="https://ourmachinery.com/apidoc/plugins/entity/entity.h.html#tm_entity_bb__wall_delta_time">TM_ENTITY_BB__WALL_DELTA_TIME</a> - Blackboard item representing the wall delta time of the current frame. (Wall delta time is not affected by the Simulation being paused or run in slow motion.)</li>
<li><a href="https://ourmachinery.com/apidoc/plugins/entity/entity.h.html#tm_entity_bb__wall_time">TM_ENTITY_BB__WALL_TIME</a> - Blackboard item representing the total elapsed wall time in the Simulation.</li>
<li><a href="https://ourmachinery.com/apidoc/plugins/entity/entity.h.html#tm_entity_bb__camera">TM_ENTITY_BB__CAMERA</a> - Blackboard items for the current camera.</li>
<li><a href="https://ourmachinery.com/apidoc/plugins/entity/entity.h.html#tm_entity_bb__editor">TM_ENTITY_BB__EDITOR</a> - Blackboard item that indicates that we are running in <em>Editor</em> mode. This may disable some components and/or simulation engines.</li>
<li><a href="https://ourmachinery.com/apidoc/plugins/entity/entity.h.html#tm_entity_bb__simulating_in_editor">TM_ENTITY_BB__SIMULATING_IN_EDITOR</a> - Set to non-zero if the Simulation runs from within the Editor, such as running a game in the simulation tab. It will be zero when we run a game from the Runner. Note the distinction from <a href="https://ourmachinery.com//apidoc/plugins/entity/entity.h.html#tm_entity_bb__editor">TM_ENTITY_BB__EDITOR</a>.</li>
</ul>
<p>The <a href="https://ourmachinery.com/apidoc/plugins/entity/entity.h.html#structtm_engine_update_set_t">tm_engine_update_set_t</a> gives us access to the needed data, and we can modify our component. The first important information we get are the number of entity types (also known Archetypes). This number is stored in <code>data-&gt;num_arrays</code>. Now that we know this information we can iterate over them and access the components per entity type. <code>tm_engine_update_array_t a =  data-&gt;arrays</code> (Gives us the current entity type's components). <code>a-&gt;n</code> is the number of matching components / entities of this entity type.</p>
<pre><code class="language-c">
    for (tm_engine_update_array_t* a = data-&gt;arrays; a &lt; data-&gt;arrays + data-&gt;num_arrays; ++a) {
        struct tm_custom_component_t* custom_component = a-&gt;components[0];
        tm_transform_component_t* transform = a-&gt;components[1];

        for (uint32_t i = 0; i &lt; a-&gt;n; ++i) {
            if (!custom_component[i].y0)
                custom_component[i].y0 = transform[i].world.pos.y;
            const float y = custom_component[i].y0 + custom_component[i].amplitude * sinf((float)t * custom_component[i].frequency);

            transform[i].world.pos.y = y;
            ++transform[i].version;
            tm_carray_temp_push(mod_transform, a-&gt;entities[i], ta);
        }
    }
</code></pre>
<blockquote>
<p><strong>Note</strong>: In case you are not that familiar with C this loop:</p>
<pre><code class="language-c"> for (tm_engine_update_array_t* a = data-&gt;arrays; a &lt; data-&gt;arrays + data-&gt;num_arrays; ++a) {
</code></pre>
<p>is kind of the C equivalent to C++'s for each loop: <code>for(auto a : data-&gt;arrays)</code></p>
</blockquote>
<p>As the last step, we add a notifier function call to notify all entities that their components have changed.</p>
<pre><code class="language-c">    tm_entity_api-&gt;notify(ctx, data-&gt;engine-&gt;components[1], mod_transform, (uint32_t)tm_carray_size(mod_transform));
</code></pre>
<h3 id="register-your-engine-to-the-system"><a class="header" href="#register-your-engine-to-the-system">Register your Engine to the system</a></h3>
<p>You an register a component to the <a href="https://ourmachinery.com/apidoc/plugins/entity/entity.h.html#tm_entity_simulation_register_engines_interface_name">TM_ENTITY_SIMULATION_REGISTER_ENGINES_INTERFACE_NAME</a> in your plugin load function. This interface expects a function pointer to a create component function of the signature: <code>void tm_entity_register_engines_i(struct tm_entity_context_o *ctx)</code>. </p>
<p>The function itself looks as follows:</p>
<pre><code class="language-c">static void component__register_engine(struct tm_entity_context_o* ctx)
{
    const tm_component_type_t custom_component = tm_entity_api-&gt;lookup_component_type(ctx, TM_TT_TYPE_HASH__CUSTOM_COMPONENT);
    const tm_component_type_t transform_component = tm_entity_api-&gt;lookup_component_type(ctx, TM_TT_TYPE_HASH__TRANSFORM_COMPONENT);

    const tm_engine_i custom_component_engine = {
        .ui_name = &quot;Custom Component&quot;,
        .hash  = TM_STATIC_HASH(&quot;CUSTOM_COMPONENT&quot;, 0xe093a8316a6c2d29ULL),
        .num_components = 2,
        .components = { custom_component, transform_component },
        .writes = { false, true },
        .update = engine_update__custom_component,
        .filter = engine_filter__custom_component,
        .inst = (tm_engine_o*)ctx,
    };
    tm_entity_api-&gt;register_engine(ctx, &amp;custom_component_engine);
}
</code></pre>
<p>The first thing we do is looking up the component type. Did we register the type? If not, we will not get the correct type. Here we are using the name we defined beforehand in our component create function.</p>
<p>Then we ask for the transform component next because our Engine shall run on those two components.</p>
<p>After this, we define the actual instance of our engine struct</p>
<p><a href="https://ourmachinery.com/apidoc/plugins/entity/entity.h.html#structtm_engine_i">tm_engine_i</a>. </p>
<p>We provide a <code>.ui_name</code> used in the Profiler to identify our Engine. Moreover, we add a unique string hash identifying this engine/system. This is used for scheduling the engine/system concerning other engines and systems, using the<code>before_me</code> and <code>after_me</code> fields.</p>
<p>Then we tell the system how many components the Engine shall operate on and which ones we will modify. This is used for scheduling the engines later one.</p>
<p>At last, we provide the needed update function, which we have discussed earlier, and a filter function.</p>
<pre><code class="language-c">static bool engine_filter__custom_component(tm_engine_o* inst, const tm_component_type_t* components, uint32_t num_components, const tm_component_mask_t* mask)
{
    return tm_entity_mask_has_component(mask, components[0]) &amp;&amp; tm_entity_mask_has_component(mask, components[1]);
}
</code></pre>
<p>The filter function will be called on all entity types to determine if the Engine shall run on them or not.  To provide this function is optional. If present it specifies a filter function called for each entity type (as</p>
<p>represented by its component mask) to determine if the Engine should run on that entity type. If no <code>tm_engine_i.filter()</code> function is supplied and no <code>excludes[]</code> flags are set, the update will run on entity types that have all the components in the <code>components</code> array. If some <code>excludes[]</code> flags are set, the Engine will run on all entity types that <strong>do not</strong> have any of the components whose <code>excludes[]</code> flags are set, but have all the other components in the <code>components</code> array. </p>
<blockquote>
<p><strong>Note:</strong> For more information, check the <a href="https://ourmachinery.com//apidoc/plugins/entity/entity.h.html#structtm_engine_i.filter()">documentation</a>.</p>
</blockquote>
<p>The last thing the register function needs to do is register the Engine to the Entity Context.</p>
<pre><code class="language-c"> tm_entity_api-&gt;register_engine(ctx, &amp;custom_component_engine);
</code></pre>
<h3 id="the-plugin-load-function"><a class="header" href="#the-plugin-load-function">The plugin load function</a></h3>
<p>The most important lines here are the once in which we register our truth types, the component and the engine.</p>
<pre><code class="language-c">TM_DLL_EXPORT void tm_load_plugin(struct tm_api_registry_api* reg, bool load)
{
    tm_entity_api = reg-&gt;get(TM_ENTITY_API_NAME);
    tm_transform_component_api = reg-&gt;get(TM_TRANSFORM_COMPONENT_API_NAME);
    tm_the_truth_api = reg-&gt;get(TM_THE_TRUTH_API_NAME);
    tm_temp_allocator_api = reg-&gt;get(TM_TEMP_ALLOCATOR_API_NAME);
    tm_localizer_api = reg-&gt;get(TM_LOCALIZER_API_NAME);

    tm_add_or_remove_implementation(reg, load, TM_THE_TRUTH_CREATE_TYPES_INTERFACE_NAME, truth__create_types);
    tm_add_or_remove_implementation(reg, load, TM_ENTITY_CREATE_COMPONENT_INTERFACE_NAME, component__create);
    tm_add_or_remove_implementation(reg, load, TM_ENTITY_SIMULATION_REGISTER_ENGINES_INTERFACE_NAME, component__register_engine);
}

</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../../gameplay_coding/ecs/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../../gameplay_coding/ecs/write_a_system_or_engine.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../../gameplay_coding/ecs/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../../gameplay_coding/ecs/write_a_system_or_engine.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
