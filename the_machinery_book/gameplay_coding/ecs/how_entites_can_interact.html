<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>How can Entities Interact? - The Machinery Book</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../../favicon.svg">
                        <link rel="shortcut icon" href="../../favicon.png">
                <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
                <link rel="stylesheet" href="../../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="../../index.html"><strong aria-hidden="true">1.</strong> Welcome</a></li><li class="chapter-item "><a href="../../what_is_the_machinery.html"><strong aria-hidden="true">2.</strong> What is The Machinery</a></li><li class="chapter-item "><a href="../../licenses.html"><strong aria-hidden="true">3.</strong> Licenses</a></li><li class="chapter-item "><a href="../../glossary.html"><strong aria-hidden="true">4.</strong> Glossary</a></li><li class="chapter-item "><a href="../../troubleshooting.html"><strong aria-hidden="true">5.</strong> Troubleshooting</a></li><li class="chapter-item "><a href="../../getting_started/index.html"><strong aria-hidden="true">6.</strong> Getting Started</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../getting_started/what_is_in_the_package.html"><strong aria-hidden="true">6.1.</strong> What is in this package</a></li><li class="chapter-item "><a href="../../getting_started/logging_in.html"><strong aria-hidden="true">6.2.</strong> Sign In</a></li><li class="chapter-item "><a href="../../getting_started/project_setup.html"><strong aria-hidden="true">6.3.</strong> Project Setup</a></li><li class="chapter-item "><a href="../../getting_started/new_project.html"><strong aria-hidden="true">6.4.</strong> New Project</a></li><li class="chapter-item "><a href="../../getting_started/first_gameplay_project.html"><strong aria-hidden="true">6.5.</strong> First Gameplay Project</a></li><li class="chapter-item "><a href="../../getting_started/sample-projects.html"><strong aria-hidden="true">6.6.</strong> Sample Projects</a></li><li class="chapter-item "><a href="../../getting_started/migration_from_unity.html"><strong aria-hidden="true">6.7.</strong> The Machinery for Unity Dev's</a></li><li class="chapter-item "><a href="../../getting_started/migration_from_unreal.html"><strong aria-hidden="true">6.8.</strong> The Machinery for Unreal 4 Dev's</a></li><li class="chapter-item "><a href="../../getting_started/migration_from_godot.html"><strong aria-hidden="true">6.9.</strong> The Machinery for Godot Dev's</a></li><li class="chapter-item "><a href="../../getting_started/introduction_to_c.html"><strong aria-hidden="true">6.10.</strong> Introduction to C</a></li></ol></li><li class="chapter-item "><a href="../../the_editor/index.html"><strong aria-hidden="true">7.</strong> The Editor</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../the_editor/tabs.html"><strong aria-hidden="true">7.1.</strong> About Tabs</a></li><li class="chapter-item "><a href="../../the_editor/entity_tree_tab.html"><strong aria-hidden="true">7.2.</strong> Entity Tree Tab</a></li><li class="chapter-item "><a href="../../the_editor/scene_tab.html"><strong aria-hidden="true">7.3.</strong> Scene Tab</a></li><li class="chapter-item "><a href="../../the_editor/properties_tab.html"><strong aria-hidden="true">7.4.</strong> Properties Tab</a></li><li class="chapter-item "><a href="../../the_editor/asset_browser.html"><strong aria-hidden="true">7.5.</strong> Asset Browser</a></li><li class="chapter-item "><a href="../../the_editor/simulate_tab.html"><strong aria-hidden="true">7.6.</strong> Simulate Tab</a></li><li class="chapter-item "><a href="../../the_editor/preview_tab.html"><strong aria-hidden="true">7.7.</strong> Preview Tab</a></li><li class="chapter-item "><a href="../../the_editor/customizations.html"><strong aria-hidden="true">7.8.</strong> Customizations</a></li></ol></li><li class="chapter-item "><a href="../../editing_workflows/index.html"><strong aria-hidden="true">8.</strong> Editing Workflows</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../editing_workflows/entities.html"><strong aria-hidden="true">8.1.</strong> Entities</a></li><li class="chapter-item "><a href="../../editing_workflows/import_assets.html"><strong aria-hidden="true">8.2.</strong> Import Assets</a></li><li class="chapter-item "><a href="../../editing_workflows/import_projects.html"><strong aria-hidden="true">8.3.</strong> Import Projects</a></li><li class="chapter-item "><a href="../../editing_workflows/asset_pipeline.html"><strong aria-hidden="true">8.4.</strong> Asset pipeline by Example</a></li><li class="chapter-item "><a href="../../editing_workflows/shaders_materials.html"><strong aria-hidden="true">8.5.</strong> Meshes / Materials / Shaders</a></li><li class="chapter-item "><a href="../../editing_workflows/prototypes.html"><strong aria-hidden="true">8.6.</strong> Prototypes</a></li><li class="chapter-item "><a href="../../editing_workflows/simulation.html"><strong aria-hidden="true">8.7.</strong> Simulation</a></li><li class="chapter-item "><a href="../../editing_workflows/visual-scripting.html"><strong aria-hidden="true">8.8.</strong> Visual Scripting: Entity Graphs</a></li><li class="chapter-item "><a href="../../editing_workflows/physics.html"><strong aria-hidden="true">8.9.</strong> Physics</a></li><li class="chapter-item "><a href="../../editing_workflows/animation/index.html"><strong aria-hidden="true">8.10.</strong> Animation</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../editing_workflows/animation/animation-state-machine.html"><strong aria-hidden="true">8.10.1.</strong> Animation State Machines</a></li><li class="chapter-item "><a href="../../editing_workflows/animation/animation-compression.html"><strong aria-hidden="true">8.10.2.</strong> Animation Compression</a></li></ol></li><li class="chapter-item "><a href="../../editing_workflows/sound.html"><strong aria-hidden="true">8.11.</strong> Sound</a></li><li class="chapter-item "><a href="../../editing_workflows/publish.html"><strong aria-hidden="true">8.12.</strong> Publish</a></li><li class="chapter-item "><a href="../../editing_workflows/sculpting.html"><strong aria-hidden="true">8.13.</strong> Sculpt Tool / White boxing</a></li></ol></li><li class="chapter-item "><a href="../../the_truth/index.html"><strong aria-hidden="true">9.</strong> The Truth</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../the_truth/access_values.html"><strong aria-hidden="true">9.1.</strong> Access values</a></li><li class="chapter-item "><a href="../../the_truth/create_an_object.html"><strong aria-hidden="true">9.2.</strong> Create an object</a></li><li class="chapter-item "><a href="../../the_truth/modify_an_object.html"><strong aria-hidden="true">9.3.</strong> Modify an object</a></li><li class="chapter-item "><a href="../../the_truth/common_types.html"><strong aria-hidden="true">9.4.</strong> Common Types</a></li><li class="chapter-item "><a href="../../the_truth/aspects.html"><strong aria-hidden="true">9.5.</strong> Aspects</a></li><li class="chapter-item "><a href="../../the_truth/custom_truth_type.html"><strong aria-hidden="true">9.6.</strong> Create a Truth Type</a></li></ol></li><li class="chapter-item "><a href="../../creation_graphs/concept.html"><strong aria-hidden="true">10.</strong> Creation Graphs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../creation_graphs/intro_unity.html"><strong aria-hidden="true">10.1.</strong> Creation Graphs for Untiy Dev's</a></li><li class="chapter-item "><a href="../../creation_graphs/intro_unreal.html"><strong aria-hidden="true">10.2.</strong> Creation Graphs for Unreal 4 Dev's</a></li><li class="chapter-item "><a href="../../creation_graphs/node_types.html"><strong aria-hidden="true">10.3.</strong> Node Types</a></li><li class="chapter-item "><a href="../../creation_graphs/shader_system.html"><strong aria-hidden="true">10.4.</strong> Shader System Interaction</a></li></ol></li><li class="chapter-item "><a href="../../graphics/index.html"><strong aria-hidden="true">11.</strong> Graphics</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../graphics/camera.html"><strong aria-hidden="true">11.1.</strong> Camera</a></li><li class="chapter-item "><a href="../../graphics/physical_light_and_camera.html"><strong aria-hidden="true">11.2.</strong> Physically Based Light and Cameras</a></li><li class="chapter-item "><a href="../../graphics/default_render_pipeline.html"><strong aria-hidden="true">11.3.</strong> Default Render Pipeline</a></li><li class="chapter-item "><a href="../../graphics/mesh_materials.html"><strong aria-hidden="true">11.4.</strong> Meshes / Materials</a></li><li class="chapter-item "><a href="../../graphics/shaders.html"><strong aria-hidden="true">11.5.</strong> Shaders</a></li><li class="chapter-item "><a href="../../graphics/the_machinery_shading_language.html"><strong aria-hidden="true">11.6.</strong> The Machinery Shading Language</a></li><li class="chapter-item "><a href="../../graphics/tmsl_vs.html"><strong aria-hidden="true">11.7.</strong> .tmsl Visual Studio Extension</a></li></ol></li><li class="chapter-item "><a href="../../extending_the_machinery/index.html"><strong aria-hidden="true">12.</strong> Extending The Machinery</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../extending_the_machinery/the_plugin_system.html"><strong aria-hidden="true">12.1.</strong> The Plugin System</a></li><li class="chapter-item "><a href="../../extending_the_machinery/hot-reloading.html"><strong aria-hidden="true">12.2.</strong> Hot-reloading</a></li><li class="chapter-item "><a href="../../extending_the_machinery/write-a-plugin.html"><strong aria-hidden="true">12.3.</strong> Write a plugin</a></li><li class="chapter-item "><a href="../../extending_the_machinery/write-a-tab.html"><strong aria-hidden="true">12.4.</strong> Write a tab</a></li><li class="chapter-item "><a href="../../extending_the_machinery/plugin-assets.html"><strong aria-hidden="true">12.5.</strong> Plugin assets</a></li><li class="chapter-item "><a href="../../extending_the_machinery/application_hooks.html"><strong aria-hidden="true">12.6.</strong> Application Hooks</a></li></ol></li><li class="chapter-item expanded "><a href="../../gameplay_coding/index.html"><strong aria-hidden="true">13.</strong> Gameplay coding</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../gameplay_coding/simulation_entry.html"><strong aria-hidden="true">13.1.</strong> Simulation Entry in C</a></li><li class="chapter-item "><a href="../../gameplay_coding/visual_scripting/index.html"><strong aria-hidden="true">13.2.</strong> Visual Scripting</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../gameplay_coding/visual_scripting/subgraphs.html"><strong aria-hidden="true">13.2.1.</strong> Subgraphs</a></li><li class="chapter-item "><a href="../../gameplay_coding/visual_scripting/debugger.html"><strong aria-hidden="true">13.2.2.</strong> Debugger</a></li></ol></li><li class="chapter-item expanded "><a href="../../gameplay_coding/ecs/index.html"><strong aria-hidden="true">13.3.</strong> Entity Component System</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../gameplay_coding/ecs/what_are_components.html"><strong aria-hidden="true">13.3.1.</strong> What are components</a></li><li class="chapter-item expanded "><a href="../../gameplay_coding/ecs/how_entites_can_interact.html" class="active"><strong aria-hidden="true">13.3.2.</strong> How can Entities Interact?</a></li><li class="chapter-item "><a href="../../gameplay_coding/ecs/how_to_design_system_or_engine.html"><strong aria-hidden="true">13.3.3.</strong> How to design a System or an Engine?</a></li><li class="chapter-item "><a href="../../gameplay_coding/ecs/how_to_define_a_engine_system.html"><strong aria-hidden="true">13.3.4.</strong> How to define a System or an Engine?</a></li><li class="chapter-item "><a href="../../gameplay_coding/ecs/how_to_register_a_system_or_engine.html"><strong aria-hidden="true">13.3.5.</strong> How to register a System or an Engine?</a></li><li class="chapter-item "><a href="../../gameplay_coding/ecs/write_a_custom_component.html"><strong aria-hidden="true">13.3.6.</strong> Write a custom component</a></li><li class="chapter-item "><a href="../../gameplay_coding/ecs/tagging_entities.html"><strong aria-hidden="true">13.3.7.</strong> Tagging Entities</a></li><li class="chapter-item "><a href="../../gameplay_coding/ecs/filtering_entities.html"><strong aria-hidden="true">13.3.8.</strong> Filtering Entities</a></li><li class="chapter-item "><a href="../../gameplay_coding/ecs/simulation_lifecycle.html"><strong aria-hidden="true">13.3.9.</strong> Simulation Lifecycle</a></li></ol></li><li class="chapter-item "><a href="../../gameplay_coding/gameplay_entry_comparison.html"><strong aria-hidden="true">13.4.</strong> Gameplay Entry Point Comparison</a></li></ol></li><li class="chapter-item "><a href="../../collaboration.html"><strong aria-hidden="true">14.</strong> Collaboration</a></li><li class="chapter-item "><a href="../../qa_pipeline/index.html"><strong aria-hidden="true">15.</strong> QA Pipeline</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../qa_pipeline/statistics.html"><strong aria-hidden="true">15.1.</strong> Statistics Tab</a></li><li class="chapter-item "><a href="../../qa_pipeline/profiler.html"><strong aria-hidden="true">15.2.</strong> Profiler Tab</a></li><li class="chapter-item "><a href="../../qa_pipeline/memory.html"><strong aria-hidden="true">15.3.</strong> Memory Usage Tab</a></li><li class="chapter-item "><a href="../../qa_pipeline/logging.html"><strong aria-hidden="true">15.4.</strong> Logging</a></li><li class="chapter-item "><a href="../../qa_pipeline/how_to_write_unit_tests.html"><strong aria-hidden="true">15.5.</strong> Write your own unit tests</a></li><li class="chapter-item "><a href="../../qa_pipeline/how_to_write_integration_tests.html"><strong aria-hidden="true">15.6.</strong> Write your own integration tests</a></li></ol></li><li class="chapter-item "><a href="../../helper_tools/index.html"><strong aria-hidden="true">16.</strong> Helper Tools</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../helper_tools/tmbuild.html"><strong aria-hidden="true">16.1.</strong> How to use tmbuild</a></li><li class="chapter-item "><a href="../../helper_tools/hash.html"><strong aria-hidden="true">16.2.</strong> How to use hash</a></li><li class="chapter-item "><a href="../../helper_tools/tmbuild_package_reference.html"><strong aria-hidden="true">16.3.</strong> tmbuild package reference</a></li></ol></li><li class="chapter-item "><a href="../../writing_an_executable.html"><strong aria-hidden="true">17.</strong> Writing an executable</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">The Machinery Book</h1>

                    <div class="right-buttons">
                                                <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        <a href="https://github.com/OurMachinery/themachinery-books" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                                                
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="how-can-we-implement-interaction-between-entities"><a class="header" href="#how-can-we-implement-interaction-between-entities">How can we implement interaction between entities?</a></h2>
<p>There are two problems in an ECS (Entity Component System) regarding the interaction between Entities: The <strong>read</strong> and the <strong>write</strong> access. </p>
<p>The truth about the interaction between Entities is that interactions do not genuinely exist. They are hidden beneath the implementation of the underlying relationship. A relationship is then nothing else than the transformation of data.</p>
<p>To choose the right tool for creating those transformations, we need to reason about our code (and what we want to achieve) and ask ourselves the following five questions: </p>
<ul>
<li>On what data do we operate? </li>
<li>What is our domain?</li>
<li>What is the possible input for our transformation? </li>
<li>What is the usage frequency of the data? </li>
<li>What are we actually transforming?</li>
<li>What could our algorithm look like? </li>
<li>How often do we perform our transformation?</li>
</ul>
<p>For infrequent read access we can easily use the <code>tm_entity_api.get_component()</code> . It allows access to the underlying data directly from a provided entity. It is not recommended to use that for read-access because it is quite slow. You perform random data access. But again, if it is infrequent of the operation and the number of targets (Entities), which are interesting to choose the right tool.</p>
<blockquote>
<p>Here, you can use a System better than an <code>Engine</code>, since a System does not run in parallel and provides access to the Entity Context.</p>
</blockquote>
<h2 id="the-problem"><a class="header" href="#the-problem">The problem</a></h2>
<p>When creating interactions between entities, we mainly face two types of problems:</p>
<ol>
<li><strong>Read Access:</strong> It means we have to read specific properties from a particular entity (object) and react based on this. <strong>In terms of games:</strong> An Actor needs to query/know some information from another part of the game. <strong>For example, within a Quest System:</strong> Have all tasks been completed?</li>
<li><strong>Write access:</strong> It means we have to write specific properties to a particular entity (object).</li>
</ol>
<p><strong>The transformation from *Interaction* towards *Relationships*</strong></p>
<p>To start this transformation, we should have a quick look at the first principle of <em>Data-Oriented Design</em>:</p>
<blockquote>
<p>Data is not the problem domain. For some, it would seem that data-oriented design is the antithesis of most other programming paradigms because data-oriented design is a technique that does not readily allow the problem domain to enter into the software so readily. It does not recognize the concept of an object in any way, as data is consistent without meaning […] The data-oriented design approach doesn’t build the real-world problem into the code. This could be seen as a failure of the data-oriented approach by veteran object-oriented developers, as many examples of the success of object-oriented design come from being able to bring human concepts to the machine. In this middle ground, a solution can be written in this language that is understandable by both humans and computers. The data-oriented approach gives up some of the human readability by leaving the problem domain in the design document but stops the machine from having to handle human concepts at any level by just that same action — <a href="http://www.dataorienteddesign.com/">Data Oriented Design Book Chapter 1.2</a></p>
</blockquote>
<p>This principle helps us recognize that interactions <em>do not truly exist. They hide the implementation of the underlying relationship</em>. A relationship is nothing else than a transformation of data. In the case of an ECS, the Entity Manager (In our case, Entity Context) can be seen as a database and the Entity as a Lookup table key that indexes relationships between components. </p>
<p>The systems (or engines) are just here to interpret those relationships and give them meaning. Therefore, a system and engines should only do one job and do this well. </p>
<p>Systems/Engines perform transformations of data. This understanding allows us to create generic systems which are decoupled and easy to reuse, and as such, we should keep the following in mind:</p>
<p>One of the main design goals for <em>Data-Oriented Design-driven</em> applications is to focus on reusability through decoupling whenever possible. </p>
<blockquote>
<p>Thus, the Unix philosophy <em>Write programs that do one thing and do it well. Write programs to work together — McIlroy</em> is a good way of expressing what a system/engine should do.</p>
</blockquote>
<p>Most ECS's are built with the idea of relationships in mind. When writing systems/engines, we transform data from one state to another to give the data meaning. Therefore systems/engines are defining the purpose of the data relationships. This decoupling provides us with the flexibility we need to design complex software such as video games. </p>
<p>With such a design, we can modify behavior later on without breaking any dependencies.</p>
<blockquote>
<p><em>For example:</em></p>
<p><em>You have one movement engine designed for the Player at first. Later on, you want to reuse it for all entities with a movement controller component. It contains the data provided by the Input System, such as which keys have been pressed. Therefore, an AI system can feed this as well for any other Unit (With the Movement Controller component, not the Player). The Movement Engine does not care about where the data comes from or who has it as long as it is present and the other needed component. (E.g. The Physics Mover or Transform)</em></p>
</blockquote>
<p><strong>How do we design Systems?</strong></p>
<p>To implement the before-mentioned relationships, we have to undertake a couple of steps. </p>
<blockquote>
<p>These steps are also interesting for programmers who design gameplay systems. Having those fleshed out when they design game mechanics can be good and speed up your work. </p>
</blockquote>
<p>We have to ask the following questions:</p>
<p><strong>1.</strong> What data transformations are we going to do and on which data? </p>
<p>This question should lead to “what components do we need to create this relationship?” We should always be able to give a reason why we need this data.</p>
<p><strong>2.</strong> What is our possible domain? (What kind of inputs do we have?)</p>
<p>When we figure this out, we can make the right decision later. Also, we can reason about our code and how to implement these relationships.</p>
<p><strong>3.</strong> How often does the data change? </p>
<p>To determine how often we change the data, we go through component by component and discuss how often we change it. This process is vital to pick the right tool. Knowing those numbers or tendencies is great for reasoning about possible performance bottlenecks and where we could apply optimizations.</p>
<p><strong>4.</strong> What are we actually transforming?</p>
<p>Writing down the algorithm (in code or on paper) or the constraints of what we are actually doing with our data is a great solution.  To pick the right tool based on the planned algorithm, we need to consider the <strong>cost</strong> of our algorithm.</p>
<p>What does <strong>cost</strong> mean? It can mean anything from runtime costs to implementation costs. It is essential first to establish what the proper criteria are. The costs at the end enable us to reason about the code.</p>
<p>To pick the right tool, we need to reason about the costs an algorithm costs us. If we take run time performance as a measurement, it is okay to have a slow algorithm if we do not execute this frequently. If this is not the case, you should consider another solution.</p>
<p><strong>5.</strong> How often do we execute the algorithm/transformation?</p>
<p>Based on the information we have already about the data we need for the transformation, it’s pretty easy to determine the execution frequency. The total number of entities/objects is known at this time. (It may be an estimation). Therefore, we can guess how often this might run. Keep in mind that we previously discussed how often we suspect the data to be changed. This leads to transparency, which gives a good idea of the costs of this code.</p>
<p>Keep in mind that the main goal is to keep things simple. A System/Engine should do one job. As the variety of components defines the data type of the Entity. And the combination of Systems/Engines defines the actual game behavior. Therefore you do not need to write diagrams, blueprints, pseudo-code or anything. You may even be able to just write the engine as one goal. It is recommended to do those steps even in your mind before you write your system.</p>
<blockquote>
<p><strong>IMPORTANT:</strong> When the data changes, the problem changes. Therefore, we have to properly evaluate with the descriptive method the possible outcome and maybe change the implementation.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../../gameplay_coding/ecs/what_are_components.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../../gameplay_coding/ecs/how_to_design_system_or_engine.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../../gameplay_coding/ecs/what_are_components.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../../gameplay_coding/ecs/how_to_design_system_or_engine.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
